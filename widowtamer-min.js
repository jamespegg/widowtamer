// Widow Tamer JS by Nathan C. Ford http://artequalswork.com
wt={opts:{elements:"p,li,dd",chars:14,method:"wordSpacing",dir:"pos",event:"orientationchange"},to:[],fix:function(a){"complete"===document.readyState&&wt.init(a);wt.bind("load",function(){wt.init(a)})},init:function(a){var b=a.method;switch(b){case "padding-right":case "nbsp":case "padding-left":case "word-spacing":case "letter-spacing":case void 0:"neg"==a.dir&&b&&b.match("padding")?console.log("Invalid method. You cannot use neg with padding."):wt.hunter(a);break;default:console.log("Invalid method. Please use either padding-right, padding-left, word-spacing, or letter-spacing.")}},
hunter:function(a){var b={};if(a)for(c in wt.opts)b[c]=a[c]?"method"==c&&a[c].match("-")?wt.fixmethod(a[c]):a[c]:wt.opts[c];else b=wt.opts;if(document.querySelectorAll){a=document.querySelectorAll(b.elements);for(var c=0;c<a.length;){var d=a[c];if(d.offsetHeight>1.5*wt.getstyle(d,"line-height",!0)){for(var e=d.childNodes,f=e.length-1,g=!1;0<=f;){var h=wt.text(e[f]);if(void 0!=h&&h.length>b.chars){g=e[f];break}f--}d.style[b.method]="0";e=wt.text(g);g&&wt.tamer(g,d,e,0,b)}c++}wt.bind(b.event,function(){wt.onevent(b)})}},
text:function(a){return a.innerText||a.textContent},settext:function(a,b){a.innerText?a.innerText=b:a.textContent=b},tamer:function(a,b,c,d,e){var f=b.offsetHeight;wt.settext(a,c.slice(0,-1*e.chars));b.offsetHeight<f?"nbsp"==e.method?wt.settext(a,wt.text(a)+c.slice(-1*e.chars).replace(/\s/g,"\u00a0")):(f=e.method.match("padding")?d/10:d/100,"neg"==e.dir&&(f*=-1),b.style[e.method]=f+"em",wt.settext(a,c),wt.tamer(a,b,c,d+1,e)):wt.settext(a,c)},onevent:function(a){var b="'"+a.elements.replace(/[^a-zA-Z0-9\-\.]/g,
"")+"'";clearTimeout(wt.to[b]);wt.to[b]=setTimeout(function(){wt.hunter(a)},250)},bind:function(a,b){window.attachEvent?window.attachEvent("on"+a,b):window.addEventListener(a,b,!0)},fixmethod:function(a){return a.replace(/-([a-zA-Z])/,function(a){return a.replace("-","").toUpperCase()})},getstyle:function(a,b,c){var d;a.currentStyle?d=a.currentStyle[b.replace(/-([A-z])/gi,function(a,b){return b.toUpperCase()})]:window.getComputedStyle&&(d=document.defaultView.getComputedStyle(a,null).getPropertyValue(b));
return c?Math.round(parseFloat(d)):d}};